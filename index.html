<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Academic OS - Interactive Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=JetBrains+Mono:wght@700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #020617;
            color: #f8fafc;
            overflow-x: hidden;
        }

        .font-mono { font-family: 'JetBrains Mono', monospace; }

        .glass {
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .nav-active {
            background-color: #4f46e5;
            color: white;
            box-shadow: 0 10px 15px -3px rgba(79, 70, 229, 0.4);
        }

        .chart-container {
            position: relative;
            width: 100%;
            height: 300px;
        }

        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }

        @keyframes pulse-soft {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        .animate-pulse-soft { animation: pulse-soft 2s infinite; }
    </style>
</head>
<body class="pb-32">

    <!-- HEADER -->
    <header class="sticky top-0 z-50 glass border-b border-white/5 px-6 py-4">
        <div class="max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6">
            <div class="flex items-center gap-3">
                <div class="bg-indigo-600 p-2 rounded-xl shadow-lg">
                    <span class="text-white text-xl">üß†</span>
                </div>
                <h1 class="text-lg font-black tracking-tighter uppercase">Academic OS</h1>
            </div>
            
            <nav id="main-nav" class="flex bg-white/5 p-1 rounded-2xl border border-white/5">
                <button onclick="app.setTab('syllabus')" data-tab="syllabus" class="nav-item px-4 py-2 rounded-xl text-[9px] font-black uppercase transition-all tracking-widest nav-active">Syllabus</button>
                <button onclick="app.setTab('revision')" data-tab="revision" class="nav-item px-4 py-2 rounded-xl text-[9px] font-black uppercase transition-all tracking-widest text-slate-400">Revision</button>
                <button onclick="app.setTab('focus')" data-tab="focus" class="nav-item px-4 py-2 rounded-xl text-[9px] font-black uppercase transition-all tracking-widest text-slate-400">Focus Room</button>
                <button onclick="app.setTab('awards')" data-tab="awards" class="nav-item px-4 py-2 rounded-xl text-[9px] font-black uppercase transition-all tracking-widest text-slate-400">Hall of Fame</button>
            </nav>

            <div class="flex items-center gap-4 bg-slate-900 px-4 py-2 rounded-2xl border border-white/10">
                <span class="text-amber-400">üèÜ</span>
                <span id="global-xp" class="text-sm font-black text-indigo-400 tabular-nums">0 XP</span>
            </div>
        </div>
    </header>

    <!-- CONTENT -->
    <main id="app-content" class="max-w-6xl mx-auto p-4 md:p-8">
        <!-- Tab Content Injected Here -->
    </main>

    <!-- PERSISTENT HUD -->
    <div class="fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] w-full max-w-sm px-4">
        <div class="glass rounded-[2rem] p-4 flex items-center justify-between shadow-2xl ring-1 ring-white/10">
           <div class="flex items-center gap-4">
              <button id="hud-toggle" onclick="app.toggleTimer()" class="w-12 h-12 rounded-xl flex items-center justify-center transition-all bg-indigo-600 hover:scale-105 active:scale-95">
                <span id="hud-icon" class="text-white">‚ñ∂Ô∏è</span>
              </button>
              <div class="flex flex-col">
                <span id="hud-status" class="text-[7px] font-black uppercase tracking-widest text-slate-500">Ready</span>
                <span id="hud-timer" class="text-2xl font-mono font-bold leading-none text-white">00:00</span>
              </div>
           </div>
           <div class="text-right">
              <span class="text-[7px] font-black text-slate-600 uppercase tracking-widest">Progress</span>
              <div id="hud-percent" class="text-sm font-black text-indigo-400">0%</div>
           </div>
        </div>
    </div>

    <script>
        const SYLLABUS = {
            "Mathematics": ["Number Systems", "Polynomials", "Coordinate Geometry", "Linear Equations", "Lines and Angles", "Triangles", "Quadrilaterals", "Circles", "Heron‚Äôs Formula", "Surface Areas", "Statistics"],
            "Science": ["Matter", "Atoms and Molecules", "Structure of Atom", "Unit of Life", "Tissues", "Motion", "Force", "Gravitation", "Work and Energy", "Sound", "Food Resources"],
            "Social Science": ["French Revolution", "Socialism in Europe", "Nazism", "India: Size", "Physical Features", "Drainage", "Climate", "Democracy", "Constitutional Design", "Electoral Politics", "Poverty", "Food Security"],
            "English": ["The Fun They Had", "Sound of Music", "Little Girl", "Beautiful Mind", "Road Not Taken", "Lost Child", "Toto", "Kingdom of Fools", "Happy Prince", "Last Leaf"],
            "Hindi": ["Do Bailon Ki Katha", "Lhasa ki Aur", "Vakh", "Savaiye", "Kaidi aur Kokila", "Gram Shree", "Reedh ki Haddi"]
        };

        const ACHIEVEMENTS = [
            { id: 'first', title: 'Novice Monk', desc: 'Finish 1 Chapter', icon: 'üéØ', req: s => s.done >= 1, color: 'from-blue-500 to-blue-700', tier: 'Common' },
            { id: 'focus_1', title: 'Flow State', desc: '10 Mins Focus', icon: '‚è±Ô∏è', req: s => s.focusSec >= 600, color: 'from-indigo-500 to-indigo-700', tier: 'Common' },
            { id: 'scholar', title: 'Deep Scholar', desc: '20 Chapters Done', icon: 'üìö', req: s => s.done >= 20, color: 'from-emerald-500 to-emerald-700', tier: 'Epic' },
            { id: 'grandmaster', title: 'Grandmaster', desc: 'Finish Syllabus', icon: 'üëë', req: s => s.done >= 50, color: 'from-yellow-400 to-orange-600', tier: 'Legendary' }
        ];

        const app = {
            state: {
                activeTab: 'syllabus',
                completed: JSON.parse(localStorage.getItem('completed') || '[]'),
                xp: parseInt(localStorage.getItem('xp') || '0'),
                todo: JSON.parse(localStorage.getItem('todo') || '[]'),
                focusSec: parseInt(localStorage.getItem('focusSec') || '0'),
                revisions: JSON.parse(localStorage.getItem('revisions') || '{}'),
                sessionSec: 0,
                isTimerActive: false,
                timerInterval: null
            },

            init() {
                this.render();
                this.updateGlobalUI();
            },

            save() {
                localStorage.setItem('completed', JSON.stringify(this.state.completed));
                localStorage.setItem('xp', this.state.xp.toString());
                localStorage.setItem('todo', JSON.stringify(this.state.todo));
                localStorage.setItem('focusSec', this.state.focusSec.toString());
                localStorage.setItem('revisions', JSON.stringify(this.state.revisions));
                this.updateGlobalUI();
            },

            setTab(tab) {
                this.state.activeTab = tab;
                document.querySelectorAll('.nav-item').forEach(el => {
                    el.classList.toggle('nav-active', el.dataset.tab === tab);
                    el.classList.toggle('text-slate-400', el.dataset.tab !== tab);
                });
                this.render();
            },

            toggleChapter(ch) {
                const idx = this.state.completed.indexOf(ch);
                if (idx > -1) {
                    this.state.completed.splice(idx, 1);
                    this.state.xp = Math.max(0, this.state.xp - 100);
                } else {
                    this.state.completed.push(ch);
                    this.state.xp += 100;
                    this.state.todo = this.state.todo.filter(t => t !== ch);
                }
                this.save();
                this.render();
            },

            toggleTodo(ch) {
                const idx = this.state.todo.indexOf(ch);
                if (idx > -1) this.state.todo.splice(idx, 1);
                else this.state.todo.push(ch);
                this.save();
                this.render();
            },

            handleRevision(ch) {
                const count = (this.state.revisions[ch] || 0) + 1;
                this.state.revisions[ch] = count;
                this.state.xp += 50;
                this.save();
                this.render();
            },

            toggleTimer() {
                this.state.isTimerActive = !this.state.isTimerActive;
                const btn = document.getElementById('hud-toggle');
                const icon = document.getElementById('hud-icon');
                const status = document.getElementById('hud-status');

                if (this.state.isTimerActive) {
                    btn.classList.replace('bg-indigo-600', 'bg-rose-500');
                    icon.innerText = '‚è∏Ô∏è';
                    status.innerText = 'In Focus';
                    status.classList.replace('text-slate-500', 'text-emerald-400');
                    
                    this.state.timerInterval = setInterval(() => {
                        this.state.sessionSec++;
                        this.state.focusSec++;
                        if (this.state.sessionSec % 10 === 0) this.save();
                        document.getElementById('hud-timer').innerText = this.formatTime(this.state.sessionSec);
                    }, 1000);
                } else {
                    btn.classList.replace('bg-rose-500', 'bg-indigo-600');
                    icon.innerText = '‚ñ∂Ô∏è';
                    status.innerText = 'Paused';
                    status.classList.replace('text-emerald-400', 'text-slate-500');
                    clearInterval(this.state.timerInterval);
                }
            },

            formatTime(ts) {
                const m = Math.floor(ts / 60);
                const s = ts % 60;
                return `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
            },

            updateGlobalUI() {
                document.getElementById('global-xp').innerText = `${this.state.xp} XP`;
                const total = Object.values(SYLLABUS).flat().length;
                const percent = Math.round((this.state.completed.length / total) * 100);
                document.getElementById('hud-percent').innerText = `${percent}%`;
            },

            render() {
                const content = document.getElementById('app-content');
                const tab = this.state.activeTab;

                if (tab === 'syllabus') {
                    content.innerHTML = `
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-500">
                            <div class="lg:col-span-2 space-y-6">
                                ${Object.entries(SYLLABUS).map(([sub, chapters]) => `
                                    <div class="glass rounded-[2rem] overflow-hidden">
                                        <div class="px-6 py-4 bg-white/5 border-b border-white/5 flex justify-between items-center">
                                            <h3 class="text-[10px] font-black uppercase text-indigo-400 tracking-widest">${sub}</h3>
                                            <span class="text-[9px] font-bold opacity-40">${chapters.filter(c => this.state.completed.includes(c)).length}/${chapters.length}</span>
                                        </div>
                                        <div class="p-4 grid grid-cols-1 sm:grid-cols-2 gap-3">
                                            ${chapters.map(ch => {
                                                const isDone = this.state.completed.includes(ch);
                                                const inTodo = this.state.todo.includes(ch);
                                                return `
                                                    <div class="p-4 rounded-xl border transition-all flex items-center justify-between group ${isDone ? 'bg-emerald-500/5 border-emerald-500/20' : 'bg-slate-800/20 border-white/5 hover:border-indigo-500/30'}">
                                                        <div class="flex items-center gap-3">
                                                            <button onclick="app.toggleChapter('${ch}')" class="${isDone ? 'text-emerald-500' : 'text-slate-700 hover:text-indigo-500'}">
                                                                ${isDone ? '‚úÖ' : '‚≠ï'}
                                                            </button>
                                                            <span class="text-[11px] font-bold ${isDone ? 'text-emerald-500/30 line-through' : 'text-slate-300'}">${ch}</span>
                                                        </div>
                                                        ${!isDone ? `
                                                            <button onclick="app.toggleTodo('${ch}')" class="${inTodo ? 'text-indigo-400' : 'text-slate-800'}">
                                                                ‚ûï
                                                            </button>
                                                        ` : ''}
                                                    </div>
                                                `;
                                            }).join('')}
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                            <div class="space-y-6">
                                <div class="bg-indigo-600 rounded-[2.5rem] p-8 shadow-2xl sticky top-32">
                                    <h3 class="text-[10px] font-black uppercase tracking-widest mb-6">Study Queue</h3>
                                    <div class="space-y-3 mb-8 max-h-[40vh] overflow-y-auto custom-scroll">
                                        ${this.state.todo.map(item => `
                                            <div class="bg-white/10 p-4 rounded-xl flex justify-between items-center">
                                                <span class="text-xs font-bold truncate pr-4">${item}</span>
                                                <button onclick="app.toggleTodo('${item}')">‚ùå</button>
                                            </div>
                                        `).join('')}
                                        ${this.state.todo.length === 0 ? '<p class="text-center py-8 opacity-40 text-[9px] font-black uppercase">Add chapters to start</p>' : ''}
                                    </div>
                                    <button onclick="app.setTab('focus')" class="w-full bg-slate-950 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-black transition-colors">Start Session</button>
                                </div>
                            </div>
                        </div>
                    `;
                } else if (tab === 'revision') {
                    content.innerHTML = `
                        <div class="max-w-4xl mx-auto space-y-6 animate-in slide-in-from-bottom-4 duration-500">
                            <div class="bg-gradient-to-br from-indigo-900 to-indigo-700 rounded-[2.5rem] p-10 text-white shadow-2xl">
                                <h2 class="text-3xl font-black uppercase tracking-tighter mb-2">Revision Vault</h2>
                                <p class="text-indigo-200 text-xs font-bold uppercase tracking-widest">Strengthen your neural pathways</p>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                ${this.state.completed.map(ch => `
                                    <div class="glass p-5 rounded-2xl flex items-center justify-between group hover:border-indigo-500/40 transition-all">
                                       <div>
                                          <h4 class="text-[11px] font-black uppercase text-slate-100 mb-2">${ch}</h4>
                                          <span class="text-indigo-400 text-[9px] font-black uppercase tracking-widest">Mastery: ${this.state.revisions[ch] || 0} Cycles</span>
                                       </div>
                                       <button onclick="app.handleRevision('${ch}')" class="bg-indigo-600 hover:bg-indigo-500 px-4 py-2 rounded-xl text-[9px] font-black uppercase transition-colors">Refine</button>
                                    </div>
                                `).join('')}
                                ${this.state.completed.length === 0 ? '<p class="col-span-2 text-center py-20 opacity-30 uppercase font-black tracking-widest">Complete chapters to unlock revision</p>' : ''}
                            </div>
                        </div>
                    `;
                } else if (tab === 'focus') {
                    content.innerHTML = `
                        <div class="max-w-4xl mx-auto py-10">
                            <div class="glass rounded-[4rem] p-20 text-center border-white/10 shadow-3xl">
                                <span class="text-indigo-400 text-[10px] font-black uppercase tracking-[0.4em] mb-10 block">Deep Work Protocol</span>
                                <div class="text-[120px] font-mono font-black tracking-tighter leading-none mb-12">
                                    ${this.formatTime(this.state.sessionSec)}
                                </div>
                                <div class="flex justify-center gap-6">
                                    <button onclick="app.toggleTimer()" class="px-12 py-6 rounded-2xl text-xs font-black uppercase tracking-widest transition-all ${this.state.isTimerActive ? 'bg-rose-500' : 'bg-indigo-600'} hover:scale-105 active:scale-95 shadow-xl">
                                        ${this.state.isTimerActive ? 'Stop Session' : 'Initiate Flow'}
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                } else if (tab === 'awards') {
                    content.innerHTML = `
                        <div class="space-y-12 animate-in fade-in duration-700">
                            <div class="text-center">
                                <h2 class="text-3xl font-black uppercase tracking-tighter mb-2">Hall of Fame</h2>
                                <p class="text-slate-500 text-[10px] font-black uppercase tracking-[0.3em]">Your legendary milestones</p>
                            </div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                                ${ACHIEVEMENTS.map(ach => {
                                    const isDone = ach.req({ 
                                        done: this.state.completed.length, 
                                        focusSec: this.state.focusSec 
                                    });
                                    return `
                                        <div class="p-8 rounded-[2.5rem] border-2 transition-all flex flex-col items-center text-center glass ${isDone ? 'border-indigo-500/20 opacity-100 shadow-2xl' : 'border-white/5 opacity-20 grayscale'}">
                                            <div class="w-16 h-16 rounded-2xl flex items-center justify-center text-3xl mb-6 bg-gradient-to-br ${isDone ? ach.color : 'from-slate-800 to-slate-900 shadow-none'} shadow-xl">
                                                ${isDone ? ach.icon : 'üîí'}
                                            </div>
                                            <span class="text-[8px] font-black uppercase tracking-widest mb-2 opacity-50">${ach.tier}</span>
                                            <h4 class="text-sm font-black uppercase text-white mb-2 tracking-tight">${ach.title}</h4>
                                            <p class="text-[10px] font-bold text-slate-500 uppercase leading-relaxed">${ach.desc}</p>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                        </div>
                    `;
                }
            }
        };

        app.init();
    </script>
</body>
</html>